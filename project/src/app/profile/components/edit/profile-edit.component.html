<div class="profile-edit-container">
  <div class="profile-edit-card">
    <div class="profile-edit-header">
      <h2>Edit Profile</h2>
    </div>

    <div class="success-alert" *ngIf="showSuccessAlert">
      Profile updated successfully!
    </div>

    <form class="profile-edit-form" [formGroup]="profileForm" (ngSubmit)="onSubmit()">
      <div class="field">
        <label class="field-label" for="fullName">Full Name</label>
        <div class="field-input">
          <input
            id="fullName"
            type="text"
            formControlName="fullName"
            placeholder="Enter your full name"
          />
        </div>
        <div class="field-error" *ngIf="profileForm.get('fullName')?.invalid && profileForm.get('fullName')?.touched">
          <div *ngIf="profileForm.get('fullName')?.errors?.['required']">Full name is required</div>
          <div *ngIf="profileForm.get('fullName')?.errors?.['minlength']">Full name must be at least 2 characters</div>
          <div *ngIf="profileForm.get('fullName')?.errors?.['maxlength']">Full name must be less than 60 characters</div>
        </div>
      </div>

      <div class="field">
        <label class="field-label" for="username">Username</label>
        <div class="field-input">
          <input
            id="username"
            type="email"
            formControlName="username"
            placeholder="Enter your email"
          />
        </div>
        <div class="field-error" *ngIf="profileForm.get('username')?.invalid && profileForm.get('username')?.touched">
          <div *ngIf="profileForm.get('username')?.errors?.['required']">Username is required</div>
          <div *ngIf="profileForm.get('username')?.errors?.['email']">Please enter a valid email</div>
          <div *ngIf="profileForm.get('username')?.errors?.['maxlength']">Username must be less than 120 characters</div>
        </div>
      </div>

      <div class="profile-edit-actions">
        <button
          type="button"
          class="btn btn-secondary"
          (click)="onCancel()"
        >
          Cancel
        </button>
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="profileForm.invalid"
        >
          Save Changes
        </button>
      </div>
    </form>
  </div>
</div>
